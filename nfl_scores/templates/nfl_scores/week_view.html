<!DOCTYPE html>
<html>
<head>
	<title>NFL Week {{week}}</title>
	{% load static %}
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="{% static 'nfl_scores/main.css' %}">
</head>
<body>
	<nav class="navbar navbar-default text-center">
		<h1>NFL Game Scores</h1>
	</nav>
	<div class="week-nav text-center container">
		{% if week == 1 %}
			<div class="previous-week btn btn-default blank-button">
				<h4><span>&lt;</span>{{week|add:"-1"}}</h4>
			</div>
		{% else %}
			<a href="?w={{week|add:'-1'}}">
				<div class="previous-week btn btn-default">
					<h4><span>&lt;</span>{{week|add:"-1"}}</h4>
				</div>
			</a>
		{% endif %}
		<div class="current-week dropdown">
			<button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
				<h4>Week {{week}} <span class="caret"></span></h4>
		  	</button>
		  	<ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
		  		<!-- Hack to show all 17 weeks, found from
		  		http://stackoverflow.com/questions/1107737/numeric-for-loop-in-django-templates-->
			    {% for i in "aaaaaaaaaaaaaaaaa" %}
					<li><a href="?w={{forloop.counter}}">{{forloop.counter}}</a></li>
				{% endfor %}
			</ul>
		</div>
		{% if week == 17 %}
			<div class="next-week btn btn-default blank-button">
				<h4>{{week|add:"1"}}<span>&gt;</span></h4>
			</div>
		{% else %}
			<a href="?w={{week|add:'1'}}">
				<div class="next-week btn btn-default">
					<h4>{{week|add:"1"}}<span>&gt;</span></h4>
				</div>
			</a>
		{% endif %}
	</div>
	<div class="games container-fluid">
		<div class="row text-center">
			{% for game in games %}
			<div class="col-md-3 col-sm-5 col-xs-10 game">
				<div class="game-basic">
					<h4 class="text-left">{{game.away_team.long_name}}
						<span class="record"> {{game.away_team.wins}}-{{game.away_team.losses}}</span>
						{% if game.away_score >= game.home_score %}
							<span class="winning-score">{{game.away_score}}</span>
						{% else %}
							<span class="losing-score">{{game.away_score}}</span>
						{% endif %}
					</h4>
					<h4 class="text-left">{{game.home_team.long_name}}
						<span class="record"> {{game.home_team.wins}}-{{game.home_team.losses}}</span>
						{% if game.home_score >= game.away_score %}
							<span class="winning-score">{{game.home_score}}</span>
						{% else %}
							<span class="losing-score">{{game.home_score}}</span>
						{% endif %}
					</h4>
				</div>
				<div class="game-quarters">
					<div class="team-game-data">
						<h4 class="text-left">{{game.away_team.long_name}}
							<span class="record"> {{game.away_team.wins}}-{{game.away_team.losses}}</span>
						</h4>
						<h4 class="text-left">{{game.home_team.long_name}}
							<span class="record"> {{game.home_team.wins}}-{{game.home_team.losses}}</span>
						</h4>
					</div>
					<table class="quarter-points">
						<tr>
							<th>1</th>
							<th>2</th>
							<th>3</th>
							<th>4</th>
							<th>F</th>
						</tr>
						<tr>
							<td>{{game.away_points_q1}}</td>
							<td>{{game.away_points_q2}}</td>
							<td>{{game.away_points_q3}}</td>
							<td>{{game.away_points_q4}}</td>
							{% if game.away_score >= game.home_score %}
								<td style="font-weight: bold;">{{game.away_score}}</td>
							{% else %}
								<td>{{game.away_score}}</td>
							{% endif %}
						</tr>
						<tr>
							<td>{{game.home_points_q1}}</td>
							<td>{{game.home_points_q2}}</td>
							<td>{{game.home_points_q3}}</td>
							<td>{{game.home_points_q4}}</td>
							{% if game.home_score >= game.away_score %}
								<td style="font-weight: bold;">{{game.home_score}}</td>
							{% else %}
								<td>{{game.home_score}}</td>
							{% endif %}
						</tr>
					</table>
				</div>
				<!-- This checkbox is a hack to know whether or not to
				display the quarter-by-quarter scoring table -->
				<input type="checkbox" name="hidden-checkbox">
			</div>
			{% endfor %}
		</div>
	</div>
</body>
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script
  src="https://code.jquery.com/jquery-3.1.1.min.js"
  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
  crossorigin="anonymous"></script>
  	<script>
  		$(".game").click( function() {
  			console.log("another time");
  			// if the checkbox is unchecked then
  			if (!$(this).find('input').prop("checked")) {
  				$(this).find(".game-basic").css("display", "None");
	  			$(this).find(".game-quarters").css("display", "inline");
	  			$(this).find('input').prop('checked', true);
  			} 
  			else {
  				console.log("else statement fired");
  				$(this).find(".game-basic").css("display", "inline");
	  			$(this).find(".game-quarters").css("display", "None");
	  			$(this).find('input').prop('checked', false);
  			}
  		});
  	</script>
</html>